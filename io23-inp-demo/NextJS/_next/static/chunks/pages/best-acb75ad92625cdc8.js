(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{6736:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/best",function(){return n(7998)}])},7998:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(616),s=n(4093),u=n(2350),i=n(6059),a=n(2823),l=n(6967),c=n(6985);async function o(e,t,n){let r=[];if(""==t)return r;let s=performance.now();try{for(let s of e){await (0,c.yZ)(),null==n||n.throwIfAborted();let e=s(t);r.push(...e)}return performance.measure("Computed: filterResults for: "+t,{start:s}),r.sort((e,t)=>e.score-t.score)}catch(e){return performance.measure("Aborted: filterResults for: "+t,{start:s}),[]}}var f=n(4934),d=n(1022);function m(e){let{searchTerm:t,sailData:n,abortSignal:u}=e,i=(0,s.useMemo)(()=>(0,l.Z)(a.Z,n),[n]),c=(0,s.use)((0,s.useMemo)(()=>o(i,t,u),[i,t,u])),m=c.slice(0,10);return 0==c.length?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{results:c}),m.map(e=>(0,r.jsx)(d.Z,{result:e},e.item.id))]})}var h=n(7077),p=n.n(h);function v(){let e=(0,s.use)((0,s.useMemo)(()=>(0,u.Z)(),[])),[t,n,a]=function(){let[e,t]=function(){let[e,t]=(0,s.useTransition)(),n=(0,s.useRef)(),r=(0,s.useRef)(),u=(0,s.useCallback)(e=>{var s;return null===(s=r.current)||void 0===s||s.call(r),new Promise((s,u)=>{n.current=s,r.current=u,t(()=>{e()})})},[t,r]);return(0,s.useEffect)(()=>{if(!e){var t;null===(t=n.current)||void 0===t||t.call(n),n.current=void 0,r.current=void 0}},[e]),[e,u]}(),[n,r]=(0,s.useState)(new AbortController),u=(0,s.useCallback)(async e=>{let n=new AbortController;try{await t(()=>{e(),r(n)})}catch(e){throw n.abort(),e}},[t,r]);return[e,u,n.signal]}(),[l,c]=(0,s.useState)(""),[o,f]=(0,s.useState)(l),d=async e=>{let t=e.target.value;c(t);try{await n(()=>{f(t)})}catch(e){}};return(0,r.jsxs)("main",{children:[(0,r.jsx)(i.Z,{searchTerm:l,onInput:d}),(0,r.jsx)("div",{className:t?"blur-sm":"",children:(0,r.jsx)(s.Suspense,{children:(0,r.jsx)(m,{searchTerm:o,sailData:e,abortSignal:a})})})]})}let w=p()(async()=>v,{ssr:!1});var b=w},1022:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(616);function s(e){let{result:t}=e,n=t.item;return(0,r.jsxs)("div",{className:"result item",children:[(0,r.jsx)("div",{className:"",children:n.name}),(0,r.jsxs)("div",{className:"",children:["Designer: ",n.designer]}),(0,r.jsxs)("div",{className:"",children:["Builder: ",n.builder]}),(0,r.jsxs)("div",{className:"",children:["Years: ",n["first-built"]," - ",n["last-built"]]})]})}},4934:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(616);function s(e){let{results:t}=e;return(0,r.jsxs)("div",{className:"result summary",children:["Results (",t.length,"):"]})}},6059:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(616);function s(e){let{searchTerm:t,onInput:n}=e;return(0,r.jsx)("form",{className:"",onSubmit:e=>e.preventDefault(),children:(0,r.jsx)("input",{className:"searchbox",onInput:n,value:t,type:"text",placeholder:"Search"})})}},6967:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(6985);let s={isCaseSensitive:!1,includeScore:!0,shouldSort:!0,includeMatches:!1,minMatchCharLength:0,threshold:.3,keys:[]};function u(e,t){let{data:n,keys:u}=t,i=Math.ceil(n.length/100);return[...Array(100)].map((t,a)=>{let l=a*i;return function(e,t,n){let u=new e(t,{...s,keys:n});return e=>((0,r.Ge)(10),u.search(e))}(e,n.slice(l,l+i),u)})}},6985:function(e,t,n){"use strict";async function r(){return new Promise(e=>{let t=new MessageChannel;t.port1.onmessage=function(){e(void 0)},t.port2.postMessage(null)})}function s(e){let t=performance.now()+e;for(;performance.now()<t;);}n.d(t,{Ge:function(){return s},yZ:function(){return r}})},2350:function(e,t,n){"use strict";async function r(){let e=await fetch("./all_sailboats.json"),t=await e.json();return{data:t,keys:["builder","designer","disp","disp-len","draft-max","first-built","last-built","hull-type","id","loa","lwl","name"]}}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[665,774,888,179],function(){return e(e.s=6736)}),_N_E=e.O()}]);